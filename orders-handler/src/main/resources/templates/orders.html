<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Заказы</title>
    <link rel="stylesheet" href="/static-res-orders/static/css/styles.css">
</head>
<body>
<div th:switch="${orders}">
    <h2 th:case="null">Заказов не найдено!</h2>
    <div th:case="*">
        <div class="container_order">
            <div class="title">
                <a href="/" class="edit_image"><img src="/img-res-orders/img/home.png" alt="home image"/></a>
                ПЕРЕЧЕНЬ ЗАКАЗОВ
                <a href="/settings" class="edit_image"><img src="/img-res-orders/img/settings.png" alt="settings image"/></a>
                <a href="/logout" class="edit_image"><img src="/img-res-orders/img/logout.png" alt="home image"/></a>
            </div>
        </div>

        <table class="table">
            <thead>
            <tr>
                <th>ID</th>
                <th>Описание</th>
                <th>Срок исполнения</th>
                <th>Стадия</th>
                <th>Результат</th>
                <th>Стоимость печати</th>
                <th>Стоимость моделирования</th>
                <th>Цена общая</th>
                <th>Доход</th>
                <th>Изображение</th>
                <th>Изменить</th>
                <th>Удалить</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="index : ${#numbers.sequence(0, #arrays.length(orders) - 1)}">
                <td th:text="${orders[index].id}"></td>
                <td th:text="${orders[index].description}"></td>
                <td th:text="${#dates.format(orders[index].deadline, 'dd.MM.yyyy')}"></td>
                <td th:text="${orders[index].orderStatus}"></td>
                <td>
                    <a href="#" class="card_order_status__image">
                        <img th:src="'/img-res-orders/img/' + ${orders[index].orderResult} + '.png'" alt="edit image"/>
                    </a>
                </td>
                <td th:text="${orders[index].printingPrice} + ' руб.'"></td>
                <td th:text="${orders[index].modelingPrice} + ' руб.'"></td>
                <td th:text="${orders[index].price} + ' руб.'"></td>
                <td th:text="${orders[index].npv} + ' руб.'"></td>
                <td th:object="${images}">
                    <a th:href="@{/orders/order-image-update/{id}(id=${orders[index].id})}" class="card_order__image">
                        <img th:src="'data:image/jpeg;base64,' + ${images[index]}" onerror="this.src='/img-res-orders/img/not_found.png'" alt="not found image"/>
                    </a>
                </td>
                <td><a th:href="@{/orders/order-update/{id}(id=${orders[index].id})}" class="edit_image">
                    <img src="/img-res-orders/img/editImg.png" alt="edit image">
                </a></td>
                <td><a th:href="@{/orders/order-delete/{id}(id=${orders[index].id})}" class="edit_image">
                    <img src="/img-res-orders/img/deleteImg.png" alt="edit image">
                </a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <form action="#" th:action="@{/orders/order-create}" method="get">
        <div class="btn_container">
            <input class="button__create" type="submit" value="Создать">
        </div>
    </form>
</div>
</body>
</html>